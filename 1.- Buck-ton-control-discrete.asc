Version 4
SHEET 1 1924 1520
WIRE 176 -16 32 -16
WIRE 320 -16 272 -16
WIRE 336 -16 320 -16
WIRE 496 -16 336 -16
WIRE 544 -16 496 -16
WIRE 640 -16 576 -16
WIRE 816 -16 720 -16
WIRE 896 -16 816 -16
WIRE 944 -16 896 -16
WIRE 32 64 32 -16
WIRE 256 64 256 32
WIRE 496 80 496 -16
WIRE 560 80 560 0
WIRE 624 80 560 80
WIRE 688 80 624 80
WIRE 816 80 816 -16
WIRE 944 80 944 -16
WIRE 256 96 256 64
WIRE 336 128 336 -16
WIRE 336 128 272 128
WIRE 256 224 256 160
WIRE 320 224 256 224
WIRE 352 224 320 224
WIRE 32 272 32 144
WIRE 496 272 496 144
WIRE 496 272 32 272
WIRE 816 272 816 144
WIRE 816 272 496 272
WIRE 944 272 944 160
WIRE 944 272 816 272
WIRE 32 336 32 272
WIRE 224 432 144 432
WIRE 624 432 224 432
WIRE 624 576 624 432
WIRE 736 576 624 576
WIRE 976 576 896 576
WIRE 1040 576 976 576
WIRE 224 592 144 592
WIRE 288 592 224 592
WIRE 736 640 624 640
WIRE 288 656 288 592
WIRE 400 656 288 656
WIRE 560 672 464 672
WIRE 624 672 624 640
WIRE 624 672 560 672
WIRE 400 688 288 688
WIRE 160 736 80 736
WIRE 288 736 288 688
WIRE 288 736 160 736
FLAG 160 736 isense
FLAG 224 592 iv
FLAG 560 672 clk
FLAG 976 576 drv
FLAG 32 336 0
FLAG 320 224 drv
FLAG 624 80 isense
FLAG 256 64 g
FLAG 320 -16 s
FLAG 896 -16 out
FLAG 224 432 ton
SYMBOL Control\\comp 432 672 R0
WINDOW 3 -27 59 Left 2
WINDOW 123 -27 81 Left 2
WINDOW 0 6 -52 Left 2
WINDOW 38 0 -30 Left 2
SYMATTR Value Vhigh=1
SYMATTR Value2 Vlow=0
SYMATTR InstName U6
SYMBOL Control\\constant 112 592 R0
WINDOW 3 10 64 Bottom 2
SYMATTR Value K=400m
SYMATTR InstName U9
SYMBOL Control\\constant 112 432 R0
WINDOW 3 -6 64 Bottom 2
SYMATTR Value K=5
SYMATTR InstName U11
SYMBOL Control\\oneshot 816 544 R0
WINDOW 3 -46 154 Left 2
WINDOW 0 -79 -52 Left 2
WINDOW 38 -79 -22 Left 2
SYMATTR InstName U12
SYMBOL voltage 32 48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 10
SYMBOL nmos 176 32 R270
WINDOW 0 64 15 VRight 2
WINDOW 3 86 -11 VRight 2
SYMATTR InstName M1
SYMATTR Value IRFZ48Z
SYMBOL schottky 512 144 R180
WINDOW 0 -46 33 Left 2
WINDOW 3 -105 0 Left 2
SYMATTR InstName D1
SYMATTR Value MBRS360
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL ind 624 0 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 100µ
SYMBOL cap 800 80 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL res 928 64 R0
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL Control\\driver 256 128 R270
WINDOW 0 -16 -52 VTop 2
WINDOW 3 -31 72 VTop 2
SYMATTR InstName U1
SYMATTR Value k=15
SYMBOL Control\\isense 560 -16 R0
SYMATTR InstName U2
TEXT 32 -128 Left 2 !.tran 0 400u 0 0.1u uic
TEXT 384 -128 Left 2 !.options reltol=1m
